<div class="container text-center">
  <div class="row">
    <div class="col-12 d-flex flex-wrap justify-content-center">
      <div class="col-3">
        <%= render "public/end_users/user_info",user_groups: @user_groups, end_user: @end_user %>
      </div>
      <div class="col-8">
        <div class="d-flex flex-wrap">
          みんなのメモリー一覧
          <%= link_to "グループ作成", new_group_path, class:"btn btn-success" %>
          <%= paginate @groups %>
        </div>
          <table>
            <tbody>
              <tr>
                <th>グループ名</th>
                <th>グループオーナー</th>
                <th>グループ紹介文</th>
              </tr>
              <% @groups.each do |group| %>
                <tr>
                  <td><%= group.name %></td>
                  <td><%= EndUser.find_by(id: group.owner_id).name %></td>
                  <td><%= group.introduction %></td>
                  <% if group.already_requested?(current_end_user) %>
                    <td>
                      <%= link_to "リクエスト解除", group_join_request_path(group, group.join_requests), class:"btn btn-danger", method: :delete %>
                    </td>
                  <% else %>
                    <td>
                      <%= link_to "加入リクエスト", group_join_requests_path(group), class:"btn btn-primary", method: :post %>
                    </td>
                  <% end %>
                </tr>
              <% end %>
            </tbody>
          </table>
      </div>
    </div>
  </div>
</div>